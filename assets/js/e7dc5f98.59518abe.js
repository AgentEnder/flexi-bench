"use strict";(self.webpackChunk_flexi_bench_docs_site=self.webpackChunk_flexi_bench_docs_site||[]).push([[9198],{4272:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var t=o(2540),r=o(3023);const a={id:"markdown-comparison",title:"Markdown Comparison Tables",sidebar_label:"Markdown Comparison Tables",description:"How MarkdownSuiteReporter automatically generates comparison tables showing relative performance when benchmarks have multiple variations.",hide_title:!0},i="Markdown Comparison Tables",s={id:"examples/markdown-comparison",title:"Markdown Comparison Tables",description:"How MarkdownSuiteReporter automatically generates comparison tables showing relative performance when benchmarks have multiple variations.",source:"@site/docs/examples/markdown-comparison.md",sourceDirName:"examples",slug:"/examples/markdown-comparison",permalink:"/flexi-bench/examples/markdown-comparison",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"markdown-comparison",title:"Markdown Comparison Tables",sidebar_label:"Markdown Comparison Tables",description:"How MarkdownSuiteReporter automatically generates comparison tables showing relative performance when benchmarks have multiple variations.",hide_title:!0},sidebar:"tutorialSidebar",previous:{title:"Failing Actions",permalink:"/flexi-bench/examples/failing-actions"},next:{title:"Markdown Reporter Append",permalink:"/flexi-bench/examples/markdown-reporter-append"}},l={},c=[];function m(n){const e={code:"code",h1:"h1",p:"p",pre:"pre",...(0,r.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"markdown-comparison-tables",children:"Markdown Comparison Tables"}),"\n",(0,t.jsx)(e.p,{children:"How MarkdownSuiteReporter automatically generates comparison tables showing relative performance when benchmarks have multiple variations."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",metastring:'title="Markdown Comparison Tables" showLineNumbers',children:"\n/**\n * Example: Markdown Reporter with Variation Comparisons\n *\n * This example demonstrates how MarkdownSuiteReporter automatically\n * generates comparison tables when benchmarks contain multiple variations.\n */\n\nimport {\n  Benchmark,\n  MarkdownBenchmarkReporter,\n  MarkdownSuiteReporter,\n  Suite,\n  Variation,\n} from '../src/index';\n\n// Simple sorting implementations to compare\nconst bubbleSort = (arr: number[]) => {\n  const result = [...arr];\n  for (let i = 0; i < result.length; i++) {\n    for (let j = 0; j < result.length - i - 1; j++) {\n      if (result[j] > result[j + 1]) {\n        [result[j], result[j + 1]] = [result[j + 1], result[j]];\n      }\n    }\n  }\n  return result;\n};\n\nconst quickSort = (arr: number[]): number[] => {\n  if (arr.length <= 1) return arr;\n  const pivot = arr[Math.floor(arr.length / 2)];\n  const left = arr.filter((x) => x < pivot);\n  const middle = arr.filter((x) => x === pivot);\n  const right = arr.filter((x) => x > pivot);\n  return [...quickSort(left), ...middle, ...quickSort(right)];\n};\n\nconst nativeSort = (arr: number[]) => [...arr].sort((a, b) => a - b);\n\n(async () => {\n  // Generate test data\n  const testData = Array.from({ length: 1000 }, () =>\n    Math.floor(Math.random() * 1000),\n  );\n\n  console.log('Running sorting algorithm comparison...\\n');\n\n  // Example 1: MarkdownSuiteReporter with multiple variations\n  console.log('1. Suite Reporter (with comparison tables):');\n  await new Suite('Sorting Algorithms Comparison')\n    .withReporter(\n      new MarkdownSuiteReporter({\n        outputFile: './examples/output/sorting-comparison.results.md',\n        title: 'Sorting Algorithm Performance',\n        fields: ['min', 'average', 'p95', 'max'],\n      }),\n    )\n    .addBenchmark(\n      new Benchmark('Sort 1000 Items')\n        .withIterations(5)\n        .withVariations(\n          Variation.FromContexts<(arr: number[]) => number[]>('sortFn', [\n            ['bubble', bubbleSort],\n            ['quick', quickSort],\n            ['native', nativeSort],\n          ]),\n        )\n        .withAction((variation) => {\n          const sortFn = variation.get<(arr: number[]) => number[]>('sortFn')!;\n          sortFn(testData);\n        }),\n    )\n    .run();\n\n  console.log('   \u2713 Generated: ./examples/output/sorting-comparison.md');\n  console.log('   (Includes comparison table showing relative performance)\\n');\n\n  // Example 2: MarkdownBenchmarkReporter with append mode\n  console.log('2. Benchmark Reporter with append mode:');\n  const reporter = new MarkdownBenchmarkReporter({\n    outputFile: './examples/output/benchmark-append-comparison.results.md',\n    fields: ['min', 'average', 'p95', 'max'],\n    append: true,\n  });\n\n  reporter.clear();\n\n  await new Suite('Multiple Benchmarks')\n    .withBenchmarkReporter(reporter)\n    .addBenchmark(\n      new Benchmark('String Concatenation')\n        .withIterations(5)\n        .withVariations(\n          Variation.FromContexts<string>('method', [\n            ['plus', '+'],\n            ['template', 'template'],\n            ['concat', 'concat'],\n          ]),\n        )\n        .withAction((variation) => {\n          const method = variation.get<string>('method');\n          const str1 = 'Hello';\n          const str2 = 'World';\n          for (let i = 0; i < 10000; i++) {\n            if (method === 'plus') {\n              const _ = str1 + str2;\n            } else if (method === 'template') {\n              const _ = `${str1}${str2}`;\n            } else {\n              const _ = str1.concat(str2);\n            }\n          }\n        }),\n    )\n    .addBenchmark(\n      new Benchmark('Array Iteration')\n        .withIterations(5)\n        .withVariations(\n          Variation.FromContexts<string>('method', [\n            ['for', 'for'],\n            ['forof', 'forof'],\n            ['foreach', 'foreach'],\n          ]),\n        )\n        .withAction((variation) => {\n          const method = variation.get<string>('method');\n          const arr = Array.from({ length: 10000 }, (_, i) => i);\n          let sum = 0;\n          if (method === 'for') {\n            for (let i = 0; i < arr.length; i++) sum += arr[i];\n          } else if (method === 'forof') {\n            for (const x of arr) sum += x;\n          } else {\n            arr.forEach((x) => (sum += x));\n          }\n        }),\n    )\n    .run();\n\n  console.log(\n    '   \u2713 Generated: ./examples/output/benchmark-append-comparison.results.md',\n  );\n  console.log('   (Each benchmark has its own comparison table)\\n');\n\n  // Example 3: Single benchmark (no comparison)\n  console.log('3. Single benchmark (no comparison table):');\n  await new Suite('Single Benchmark')\n    .withReporter(\n      new MarkdownSuiteReporter({\n        outputFile: './examples/output/single-benchmark.results.md',\n        title: 'Single Benchmark (No Comparison)',\n      }),\n    )\n    .addBenchmark(\n      new Benchmark('Simple Math').withIterations(3).withAction(() => {\n        for (let i = 0; i < 1000; i++) {\n          Math.sqrt(i);\n        }\n      }),\n    )\n    .run();\n\n  console.log('   \u2713 Generated: ./examples/output/single-benchmark.results.md');\n  console.log('   (No comparison table since only one variation)\\n');\n\n  // Results explanation\n  console.log('\u2500'.repeat(60));\n  console.log('COMPARISON TABLE FEATURE:');\n  console.log('\u2500'.repeat(60));\n  console.log('When a benchmark has multiple variations, the markdown');\n  console.log('reporters now automatically generate a \"Comparison\" section');\n  console.log('showing:');\n  console.log('');\n  console.log('  \u2022 Average time for each variation');\n  console.log('  \u2022 Percentage difference vs the fastest');\n  console.log('  \u2022 Multiplier (e.g., 2.5x slower)');\n  console.log('  \u2022 Trophy emoji (\ud83c\udfc6) for the winner');\n  console.log('');\n  console.log('This makes it easy to see which implementation is fastest');\n  console.log('at a glance in your benchmark reports!');\n  console.log('\u2500'.repeat(60));\n})();\n\n"})})]})}function p(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(m,{...n})}):m(n)}},3023:(n,e,o)=>{o.d(e,{R:()=>i,x:()=>s});var t=o(3696);const r={},a=t.createContext(r);function i(n){const e=t.useContext(a);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:i(n.components),t.createElement(a.Provider,{value:e},n.children)}}}]);